<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>知攻善防应急响应靶机训练-Web1 | 榴莲酥的碎碎念</title>
<link rel="shortcut icon" href="https://dengdinshan.github.io/favicon.ico?v=1730519803442">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://dengdinshan.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="知攻善防应急响应靶机训练-Web1 | 榴莲酥的碎碎念 - Atom Feed" href="https://dengdinshan.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="知攻善防应急响应靶机训练-Web1
本次应急响应靶机采用的是知攻善防实验室的Web-1应急响应靶机 靶机下载地址为： https://pan.quark.cn/s/4b6dffd0c51a
首先是将靶机导入虚拟机
如果直接导入 将会有版本不..." />
    <meta name="keywords" content="靶场" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://dengdinshan.github.io">
  <img class="avatar" src="https://dengdinshan.github.io/images/avatar.png?v=1730519803442" alt="">
  </a>
  <h1 class="site-title">
    榴莲酥的碎碎念
  </h1>
  <p class="site-description">
    天下有情人终成眷属
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              知攻善防应急响应靶机训练-Web1
            </h2>
            <div class="post-info">
              <span>
                2024-10-23
              </span>
              <span>
                3 min read
              </span>
              
                <a href="https://dengdinshan.github.io/tag/ne0Z-hhZT/" class="post-tag">
                  # 靶场
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <h1 id="知攻善防应急响应靶机训练-web1">知攻善防应急响应靶机训练-Web1</h1>
<p>本次<a href="https://so.csdn.net/so/search?q=%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94&amp;spm=1001.2101.3001.7020">应急响应</a>靶机采用的是知攻善防实验室的Web-1应急响应靶机 靶机下载地址为： https://pan.quark.cn/s/4b6dffd0c51a</p>
<p>首先是将靶机导入虚拟机</p>
<p>如果直接导入 将会有版本不适配的弹窗 解决办法是在虚拟机文件中找到</p>
<figure data-type="image" tabindex="1"><img src="C:/Users/613/AppData/Roaming/Typora/typora-user-images/image-20241023095721237.png" alt="image-20241023095721237" loading="lazy"></figure>
<p>.vmx格式的文件 使用记事本打开 修改其中的版本为自己的vmware版本即可正常打开</p>
<figure data-type="image" tabindex="2"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410230959897.png" alt="image-20241023095958855" loading="lazy"></figure>
<p>打开虚拟机</p>
<figure data-type="image" tabindex="3"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231001148.png" alt="image-20241023100124939" loading="lazy"></figure>
<p>发现有phpstudy 打开看看</p>
<figure data-type="image" tabindex="4"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231003495.png" alt="image-20241023100312438" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231037765.png" alt="image-20241023103727456" loading="lazy"></figure>
<p>在服务器上上传应急响应工具</p>
<p>使用d盾</p>
<figure data-type="image" tabindex="6"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231039943.png" alt="image-20241023103944888" loading="lazy"></figure>
<p>发现了<img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231042921.png" alt="image-20241023104242886" loading="lazy"></p>
<p>读取一下shell信息</p>
<figure data-type="image" tabindex="7"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231046963.png" alt="image-20241023104624912" loading="lazy"></figure>
<p>找到shell连接密码，并进行解密，发现为默认冰蝎密码rebeyond</p>
<p>回到PHP study中，找到Apache的日志文件</p>
<figure data-type="image" tabindex="8"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231048672.png" alt="image-20241023104830624" loading="lazy"></figure>
<figure data-type="image" tabindex="9"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231048419.png" alt="image-20241023104816372" loading="lazy"></figure>
<p>查看日志文件</p>
<figure data-type="image" tabindex="10"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231049506.png" alt="image-20241023104922448" loading="lazy"></figure>
<p>使用查找 发现有大量爆破行为 猜测存在弱口令<img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231051834.png" alt="image-20241023105109786" loading="lazy"></p>
<figure data-type="image" tabindex="11"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231053189.png" alt="image-20241023105322141" loading="lazy"></figure>
<p>攻击者ip为192.168.126.1</p>
<p>使用Windows日志一键分析功能</p>
<figure data-type="image" tabindex="12"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231054992.png" alt="image-20241023105413944" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231055717.png" alt="image-20241023105514670" loading="lazy"></figure>
<p>发现未知用户名hack168$<img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231055269.png" alt="image-20241023105539229" loading="lazy"></p>
<p>找到该用户文件夹位置，寻找蛛丝马迹</p>
<p>C:\Users\hack168$</p>
<figure data-type="image" tabindex="14"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231056507.png" alt="image-20241023105631462" loading="lazy"></figure>
<p>在桌面找到程序kuang.exe</p>
<figure data-type="image" tabindex="15"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231057538.png" alt="image-20241023105752500" loading="lazy"></figure>
<figure data-type="image" tabindex="16"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231058330.png" alt="image-20241023105821279" loading="lazy"></figure>
<figure data-type="image" tabindex="17"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231058931.png" alt="image-20241023105833827" loading="lazy"></figure>
<p>系统直接崩溃</p>
<p>判别为挖矿程序，进行分析 分析该文件</p>
<figure data-type="image" tabindex="18"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231101710.png" alt="image-20241023110143623" loading="lazy"></figure>
<p>该挖矿程序为pyinstaller打包，使用pyinstxtractor进行反编译</p>
<p>工具下载地址：<a href="https://github.com/extremecoders-re/pyinstxtractor">GitHub - extremecoders-re/pyinstxtractor: PyInstaller Extractor</a></p>
<p>命令为：</p>
<p>python pyinstxtractor.py C:\Users\hack168$\Desktop\Kuang.exe</p>
<figure data-type="image" tabindex="19"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231102601.png" alt="image-20241023110238548" loading="lazy"></figure>
<p>得到pyc文件</p>
<figure data-type="image" tabindex="20"><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231103995.png" alt="image-20241023110301943" loading="lazy"></figure>
<p>得到了kuang的pyc文件</p>
<p>使用在线pyc反编译工具</p>
<p>附上两个地址   1   https://www.lddgo.net/string/pyc-compile-decompile</p>
<p>​    2    https://toolkk.com/tools/pyc-decomplie</p>
<p>得到源码</p>
<p>Visit https://www.lddgo.net/string/pyc-compile-decompile for more information # Version : Python 3.8 import multiprocessing import requests def cpu_intensive_task(): try: requests.get('http://wakuang.zhigongshanfang.top', 10, **('timeout',)) finally: continue continue continue if <strong>name</strong> == '<strong>main</strong>': cpu_count = multiprocessing.cpu_count() processes = (lambda .0: [ multiprocessing.Process(cpu_intensive_task, **('target',)) for _ in .0 ])(range(cpu_count)) for process in processes: process.start() for process in processes: process.join()</p>
<p>得到了矿池域名http://wakuang.zhigongshanfang.top</p>
<p>解题答案</p>
<p>shell密码：rebeyond</p>
<p>攻击者ip地址 192.168.126.1</p>
<p>攻击者隐藏账户名称:hack168</p>
<p>矿池域名:wakuang.zhigongshanfang.top</p>
<p><img src="https://wanan-1327953148.cos.ap-chengdu.myqcloud.com/blog/202410231130397.png" alt="image-20241023113021353" loading="lazy"><br>
总结<br>
第一次做应急响应的靶场 思路和渗透测试的时候恰恰相反 需要从各种方面去分析寻找答案</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E7%9F%A5%E6%94%BB%E5%96%84%E9%98%B2%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%E9%9D%B6%E6%9C%BA%E8%AE%AD%E7%BB%83-web1">知攻善防应急响应靶机训练-Web1</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://dengdinshan.github.io/post/pikachu-ba-chang/">
              <h3 class="post-title">
                PIKACHU靶场
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  总访客人数量3496次 本站总访问量7215次
  <a class="rss" href="https://dengdinshan.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
